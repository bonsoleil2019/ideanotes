# Alexa Voice Memo - セットアップガイド

## 🎯 セットアップ概要

Alexa-hostedスキルとして完全無料で音声メモアプリを構築する手順書です。

## 📋 事前準備

### 必要なもの
- [ ] インターネット接続
- [ ] ブラウザ（Chrome/Firefox/Safari推奨）
- [ ] メールアドレス（Amazon開発者アカウント用）
- [ ] テスト用Alexaデバイス（オプション、シミュレーターでも可）

### 所要時間
- **Amazon開発者アカウント作成**: 10分
- **Alexa-hostedスキル作成**: 15分
- **基本設定**: 30分
- **合計**: 約1時間

## 🔧 Step 1: Amazon開発者アカウント作成

### 1.1 アカウント作成の注意点
⚠️ **重要**: 必ず `Amazon.co.jp` でアカウントを作成してください。
- `Amazon.com` で作成すると日本語スキルが正常に動作しない場合があります

### 1.2 作成手順

1. **Amazon開発者コンソールにアクセス**
   ```
   https://developer.amazon.com/ja/
   ```

2. **アカウント作成**
   - 「Developer Console」をクリック
   - 既存のAmazon.co.jpアカウントでログイン（推奨）
   - または新規アカウント作成

3. **開発者プロフィール設定**
   - 開発者名: 公開時にスキル名の下に表示される名前
   - 国/地域: 日本
   - 会社名: 個人の場合は省略可

4. **利用規約同意**
   - Amazon開発者サービス契約に同意
   - Alexa開発者サービス契約に同意

### 1.3 確認事項
- [ ] Amazon.co.jpアカウントでログインできる
- [ ] 開発者ダッシュボードにアクセスできる
- [ ] プロフィール情報が正しく設定されている

## 🚀 Step 2: Alexa-hostedスキル作成

### 2.1 スキル作成開始

1. **Alexa開発者コンソールにアクセス**
   ```
   https://developer.amazon.com/alexa/console/ask
   ```

2. **新しいスキル作成**
   - 「スキルの作成」ボタンをクリック

### 2.2 基本設定

#### スキル名設定
```
スキル名: ボイスメモ
（または好みの名前）
```

#### プライマリロケール
```
日本語（JP）
```

#### エクスペリエンス選択
```
その他 > カスタム
```

#### モデル選択
```
カスタム
```

#### ホスティング方法（重要）
```
Alexa-Hosted（Node.js）
```
- ✅ 完全無料
- ✅ AWS Lambda自動セットアップ
- ✅ S3ストレージ込み
- ✅ コード管理機能付き

### 2.3 リージョン設定
```
ホスティングリージョン: デフォルト（推奨）
または
アジアパシフィック（東京）
```

### 2.4 スキル作成実行
- 「スキルを作成」ボタンをクリック
- 作成完了まで1-2分待機

## ⚙️ Step 3: 基本設定

### 3.1 呼び出し名設定

1. **ビルド タブ > 呼び出し名**
   ```
   呼び出し名: ボイスメモ
   ```
   
2. **呼び出し例**
   - 「アレクサ、ボイスメモを開いて」
   - 「アレクサ、ボイスメモを起動」

### 3.2 対話モデル設定

#### インテント作成（3つ）

1. **AddMemoIntent作成**
   ```
   インテント名: AddMemoIntent
   
   サンプル発話:
   - メモに {memoText} を追加
   - {memoText} をメモして
   - {memoText} を追加
   - メモに {memoText}
   
   スロット:
   - 名前: memoText
   - タイプ: AMAZON.AlphaNumeric
   ```

2. **ReadMemosIntent作成**
   ```
   インテント名: ReadMemosIntent
   
   サンプル発話:
   - メモを読んで
   - メモ一覧
   - メモを教えて
   - メモの内容は
   ```

3. **DeleteMemoIntent作成**
   ```
   インテント名: DeleteMemoIntent
   
   サンプル発話:
   - {memoNumber} 番目のメモを削除
   - {memoNumber} 番を削除
   - {memoNumber} 番目を消して
   
   スロット:
   - 名前: memoNumber
   - タイプ: AMAZON.NUMBER
   ```

### 3.3 モデルビルド
1. 「モデルを保存」をクリック
2. 「モデルをビルド」をクリック
3. ビルド完了まで30秒程度待機

## 💻 Step 4: Lambda関数設定

### 4.1 コードタブに移動
- 「コード」タブをクリック
- Alexa-hostedのコードエディターが開く

### 4.2 必要パッケージ追加

#### package.json更新
```json
{
  "name": "alexa-voice-memo",
  "version": "1.0.0",
  "description": "Voice memo skill for Alexa",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "dependencies": {
    "ask-sdk-core": "^2.13.0",
    "ask-sdk-s3-persistence-adapter": "^2.13.0"
  }
}
```

### 4.3 環境変数設定
- S3バケット名は自動で設定されます
- 追加設定は実装時に行います

## 🧪 Step 5: 初期テスト

### 5.1 テストタブでの確認

1. **テストタブに移動**
2. **テスト有効化**
   - 「開発中」を選択
3. **基本テスト**
   ```
   入力: 「ボイスメモを開いて」
   期待結果: スキルが起動する
   ```

### 5.2 確認事項
- [ ] スキルが正常に起動する
- [ ] エラーが発生しない
- [ ] 音声またはテキスト入力が認識される

## ✅ セットアップ完了チェックリスト

### アカウント・権限
- [ ] Amazon開発者アカウント作成完了
- [ ] Amazon.co.jpドメインで作成
- [ ] 開発者コンソールアクセス確認

### スキル基本設定
- [ ] Alexa-hostedスキル作成完了
- [ ] 呼び出し名設定完了
- [ ] 日本語ロケール設定確認

### 対話モデル
- [ ] AddMemoIntent作成完了
- [ ] ReadMemosIntent作成完了  
- [ ] DeleteMemoIntent作成完了
- [ ] モデルビルド成功

### 開発環境
- [ ] コードエディターアクセス確認
- [ ] package.json設定確認
- [ ] テスト環境動作確認

### 次のステップ準備
- [ ] 実装ガイド確認
- [ ] 開発計画理解
- [ ] 必要に応じてチーム共有

## 🆘 トラブルシューティング

### よくある問題

#### 1. アカウント作成時の問題
**問題**: Amazon.comでアカウント作成してしまった
**解決**: 新しくAmazon.co.jpでアカウントを作成し直す

#### 2. スキル作成時の問題
**問題**: Alexa-hostedが選択できない
**解決**: リージョンを変更するか、ブラウザのキャッシュをクリア

#### 3. モデルビルドエラー
**問題**: サンプル発話の重複エラー
**解決**: 他のインテントと重複する発話を修正

#### 4. テスト時の問題
**問題**: 「スキルが見つかりません」
**解決**: 呼び出し名を正確に発音、またはテキスト入力で確認

### サポート情報
- [Alexa開発者ドキュメント](https://developer.amazon.com/ja-JP/docs/alexa/)
- [Alexa Skills Kit フォーラム](https://forums.developer.amazon.com/spaces/23/index.html)

---

**セットアップ完了後**: [implementation-guide.md](implementation-guide.md) に進んでください。